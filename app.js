import{g as St,_ as Yt,F as W,M as Kt,K as Zt,a as Nt,I as Jt,G as Qt,N as er,O as k,E as Ne,T as Ae,t as tr,e as fe,l as rr,C as Je,b as nr,R as sr,c as ir,D as Qe,U as or,B as ar,d as lr,A as et,i as cr,f as tt,h as hr,j as rt,k as fr,m as ur,n as dr,o as pr,W as nt,p as mr}from"./ChartManager-7b4f1403.js";var be={exports:{}};const Er="2.0.0",At=256,wr=Number.MAX_SAFE_INTEGER||9007199254740991,gr=16,vr=At-6,$r=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ee={MAX_LENGTH:At,MAX_SAFE_COMPONENT_LENGTH:gr,MAX_SAFE_BUILD_LENGTH:vr,MAX_SAFE_INTEGER:wr,RELEASE_TYPES:$r,SEMVER_SPEC_VERSION:Er,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Rr=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{};var we=Rr;(function(i,e){const{MAX_SAFE_COMPONENT_LENGTH:t,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:o}=Ee,f=we;e=i.exports={};const u=e.re=[],w=e.safeRe=[],l=e.src=[],c=e.t={};let m=0;const v="[a-zA-Z0-9-]",O=[["\\s",1],["\\d",o],[v,s]],I=B=>{for(const[V,q]of O)B=B.split(`${V}*`).join(`${V}{0,${q}}`).split(`${V}+`).join(`${V}{1,${q}}`);return B},T=(B,V,q)=>{const te=I(V),b=m++;f(B,b,V),c[B]=b,l[b]=V,u[b]=new RegExp(V,q?"g":void 0),w[b]=new RegExp(te,q?"g":void 0)};T("NUMERICIDENTIFIER","0|[1-9]\\d*"),T("NUMERICIDENTIFIERLOOSE","\\d+"),T("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),T("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),T("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),T("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),T("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),T("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),T("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),T("BUILDIDENTIFIER",`${v}+`),T("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),T("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),T("FULL",`^${l[c.FULLPLAIN]}$`),T("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),T("LOOSE",`^${l[c.LOOSEPLAIN]}$`),T("GTLT","((?:<|>)?=?)"),T("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),T("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),T("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),T("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),T("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),T("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),T("COERCEPLAIN",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?`),T("COERCE",`${l[c.COERCEPLAIN]}(?:$|[^\\d])`),T("COERCEFULL",l[c.COERCEPLAIN]+`(?:${l[c.PRERELEASE]})?(?:${l[c.BUILD]})?(?:$|[^\\d])`),T("COERCERTL",l[c.COERCE],!0),T("COERCERTLFULL",l[c.COERCEFULL],!0),T("LONETILDE","(?:~>?)"),T("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",T("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),T("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),T("LONECARET","(?:\\^)"),T("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",T("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),T("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),T("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),T("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),T("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",T("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),T("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),T("STAR","(<|>)?=?\\s*\\*"),T("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),T("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(be,be.exports);var oe=be.exports;const Ir=Object.freeze({loose:!0}),yr=Object.freeze({}),Lr=i=>i?typeof i!="object"?Ir:i:yr;var De=Lr;const st=/^[0-9]+$/,Ot=(i,e)=>{const t=st.test(i),s=st.test(e);return t&&s&&(i=+i,e=+e),i===e?0:t&&!s?-1:s&&!t?1:i<e?-1:1},Tr=(i,e)=>Ot(e,i);var Ct={compareIdentifiers:Ot,rcompareIdentifiers:Tr};const ue=we,{MAX_LENGTH:it,MAX_SAFE_INTEGER:de}=Ee,{safeRe:ot,t:at}=oe,Sr=De,{compareIdentifiers:ne}=Ct;let Nr=class Z{constructor(e,t){if(t=Sr(t),e instanceof Z){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>it)throw new TypeError(`version is longer than ${it} characters`);ue("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?ot[at.LOOSE]:ot[at.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>de||this.major<0)throw new TypeError("Invalid major version");if(this.minor>de||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>de||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const f=+o;if(f>=0&&f<de)return f}return o}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ue("SemVer.compare",this.version,this.options,e),!(e instanceof Z)){if(typeof e=="string"&&e===this.version)return 0;e=new Z(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Z||(e=new Z(e,this.options)),ne(this.major,e.major)||ne(this.minor,e.minor)||ne(this.patch,e.patch)}comparePre(e){if(e instanceof Z||(e=new Z(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],o=e.prerelease[t];if(ue("prerelease compare",t,s,o),s===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(s===void 0)return-1;if(s===o)continue;return ne(s,o)}while(++t)}compareBuild(e){e instanceof Z||(e=new Z(e,this.options));let t=0;do{const s=this.build[t],o=e.build[t];if(ue("build compare",t,s,o),s===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(s===void 0)return-1;if(s===o)continue;return ne(s,o)}while(++t)}inc(e,t,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,s),this.inc("pre",t,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,s),this.inc("pre",t,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const o=Number(s)?1:0;if(!t&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let f=this.prerelease.length;for(;--f>=0;)typeof this.prerelease[f]=="number"&&(this.prerelease[f]++,f=-2);if(f===-1){if(t===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(t){let f=[t,o];s===!1&&(f=[t]),ne(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=f):this.prerelease=f}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var U=Nr;const lt=U,Ar=(i,e,t=!1)=>{if(i instanceof lt)return i;try{return new lt(i,e)}catch(s){if(!t)return null;throw s}};var se=Ar;const Or=se,Cr=(i,e)=>{const t=Or(i,e);return t?t.version:null};var _r=Cr;const Pr=se,xr=(i,e)=>{const t=Pr(i.trim().replace(/^[=v]+/,""),e);return t?t.version:null};var br=xr;const ct=U,Dr=(i,e,t,s,o)=>{typeof t=="string"&&(o=s,s=t,t=void 0);try{return new ct(i instanceof ct?i.version:i,t).inc(e,s,o).version}catch{return null}};var Fr=Dr;const ht=se,jr=(i,e)=>{const t=ht(i,null,!0),s=ht(e,null,!0),o=t.compare(s);if(o===0)return null;const f=o>0,u=f?t:s,w=f?s:t,l=!!u.prerelease.length;if(!!w.prerelease.length&&!l)return!w.patch&&!w.minor?"major":u.patch?"patch":u.minor?"minor":"major";const m=l?"pre":"";return t.major!==s.major?m+"major":t.minor!==s.minor?m+"minor":t.patch!==s.patch?m+"patch":"prerelease"};var Gr=jr;const kr=U,Wr=(i,e)=>new kr(i,e).major;var Mr=Wr;const Ur=U,Vr=(i,e)=>new Ur(i,e).minor;var Xr=Vr;const Hr=U,Br=(i,e)=>new Hr(i,e).patch;var qr=Br;const zr=se,Yr=(i,e)=>{const t=zr(i,e);return t&&t.prerelease.length?t.prerelease:null};var Kr=Yr;const ft=U,Zr=(i,e,t)=>new ft(i,t).compare(new ft(e,t));var Y=Zr;const Jr=Y,Qr=(i,e,t)=>Jr(e,i,t);var en=Qr;const tn=Y,rn=(i,e)=>tn(i,e,!0);var nn=rn;const ut=U,sn=(i,e,t)=>{const s=new ut(i,t),o=new ut(e,t);return s.compare(o)||s.compareBuild(o)};var Fe=sn;const on=Fe,an=(i,e)=>i.sort((t,s)=>on(t,s,e));var ln=an;const cn=Fe,hn=(i,e)=>i.sort((t,s)=>cn(s,t,e));var fn=hn;const un=Y,dn=(i,e,t)=>un(i,e,t)>0;var ge=dn;const pn=Y,mn=(i,e,t)=>pn(i,e,t)<0;var je=mn;const En=Y,wn=(i,e,t)=>En(i,e,t)===0;var _t=wn;const gn=Y,vn=(i,e,t)=>gn(i,e,t)!==0;var Pt=vn;const $n=Y,Rn=(i,e,t)=>$n(i,e,t)>=0;var Ge=Rn;const In=Y,yn=(i,e,t)=>In(i,e,t)<=0;var ke=yn;const Ln=_t,Tn=Pt,Sn=ge,Nn=Ge,An=je,On=ke,Cn=(i,e,t,s)=>{switch(e){case"===":return typeof i=="object"&&(i=i.version),typeof t=="object"&&(t=t.version),i===t;case"!==":return typeof i=="object"&&(i=i.version),typeof t=="object"&&(t=t.version),i!==t;case"":case"=":case"==":return Ln(i,t,s);case"!=":return Tn(i,t,s);case">":return Sn(i,t,s);case">=":return Nn(i,t,s);case"<":return An(i,t,s);case"<=":return On(i,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};var xt=Cn;const _n=U,Pn=se,{safeRe:pe,t:me}=oe,xn=(i,e)=>{if(i instanceof _n)return i;if(typeof i=="number"&&(i=String(i)),typeof i!="string")return null;e=e||{};let t=null;if(!e.rtl)t=i.match(e.includePrerelease?pe[me.COERCEFULL]:pe[me.COERCE]);else{const l=e.includePrerelease?pe[me.COERCERTLFULL]:pe[me.COERCERTL];let c;for(;(c=l.exec(i))&&(!t||t.index+t[0].length!==i.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(t===null)return null;const s=t[2],o=t[3]||"0",f=t[4]||"0",u=e.includePrerelease&&t[5]?`-${t[5]}`:"",w=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Pn(`${s}.${o}.${f}${u}${w}`,e)};var bn=xn;class Dn{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){const o=this.map.keys().next().value;this.delete(o)}this.map.set(e,t)}return this}}var Fn=Dn,Oe,dt;function K(){if(dt)return Oe;dt=1;const i=/\s+/g;class e{constructor(p,y){if(y=o(y),p instanceof e)return p.loose===!!y.loose&&p.includePrerelease===!!y.includePrerelease?p:new e(p.raw,y);if(p instanceof f)return this.raw=p.value,this.set=[[p]],this.formatted=void 0,this;if(this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease,this.raw=p.trim().replace(i," "),this.set=this.raw.split("||").map(g=>this.parseRange(g.trim())).filter(g=>g.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const g=this.set[0];if(this.set=this.set.filter(L=>!B(L[0])),this.set.length===0)this.set=[g];else if(this.set.length>1){for(const L of this.set)if(L.length===1&&V(L[0])){this.set=[L];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let p=0;p<this.set.length;p++){p>0&&(this.formatted+="||");const y=this.set[p];for(let g=0;g<y.length;g++)g>0&&(this.formatted+=" "),this.formatted+=y[g].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(p){const g=((this.options.includePrerelease&&I)|(this.options.loose&&T))+":"+p,L=s.get(g);if(L)return L;const $=this.options.loose,N=$?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];p=p.replace(N,ce(this.options.includePrerelease)),u("hyphen replace",p),p=p.replace(l[c.COMPARATORTRIM],m),u("comparator trim",p),p=p.replace(l[c.TILDETRIM],v),u("tilde trim",p),p=p.replace(l[c.CARETTRIM],O),u("caret trim",p);let C=p.split(" ").map(D=>te(D,this.options)).join(" ").split(/\s+/).map(D=>Le(D,this.options));$&&(C=C.filter(D=>(u("loose invalid filter",D,this.options),!!D.match(l[c.COMPARATORLOOSE])))),u("range list",C);const A=new Map,x=C.map(D=>new f(D,this.options));for(const D of x){if(B(D))return[D];A.set(D.value,D)}A.size>1&&A.has("")&&A.delete("");const G=[...A.values()];return s.set(g,G),G}intersects(p,y){if(!(p instanceof e))throw new TypeError("a Range is required");return this.set.some(g=>q(g,y)&&p.set.some(L=>q(L,y)&&g.every($=>L.every(N=>$.intersects(N,y)))))}test(p){if(!p)return!1;if(typeof p=="string")try{p=new w(p,this.options)}catch{return!1}for(let y=0;y<this.set.length;y++)if(J(this.set[y],p,this.options))return!0;return!1}}Oe=e;const t=Fn,s=new t,o=De,f=ve(),u=we,w=U,{safeRe:l,t:c,comparatorTrimReplace:m,tildeTrimReplace:v,caretTrimReplace:O}=oe,{FLAG_INCLUDE_PRERELEASE:I,FLAG_LOOSE:T}=Ee,B=E=>E.value==="<0.0.0-0",V=E=>E.value==="",q=(E,p)=>{let y=!0;const g=E.slice();let L=g.pop();for(;y&&g.length;)y=g.every($=>L.intersects($,p)),L=g.pop();return y},te=(E,p)=>(u("comp",E,p),E=ae(E,p),u("caret",E),E=H(E,p),u("tildes",E),E=le(E,p),u("xrange",E),E=ye(E,p),u("stars",E),E),b=E=>!E||E.toLowerCase()==="x"||E==="*",H=(E,p)=>E.trim().split(/\s+/).map(y=>Re(y,p)).join(" "),Re=(E,p)=>{const y=p.loose?l[c.TILDELOOSE]:l[c.TILDE];return E.replace(y,(g,L,$,N,C)=>{u("tilde",E,g,L,$,N,C);let A;return b(L)?A="":b($)?A=`>=${L}.0.0 <${+L+1}.0.0-0`:b(N)?A=`>=${L}.${$}.0 <${L}.${+$+1}.0-0`:C?(u("replaceTilde pr",C),A=`>=${L}.${$}.${N}-${C} <${L}.${+$+1}.0-0`):A=`>=${L}.${$}.${N} <${L}.${+$+1}.0-0`,u("tilde return",A),A})},ae=(E,p)=>E.trim().split(/\s+/).map(y=>X(y,p)).join(" "),X=(E,p)=>{u("caret",E,p);const y=p.loose?l[c.CARETLOOSE]:l[c.CARET],g=p.includePrerelease?"-0":"";return E.replace(y,(L,$,N,C,A)=>{u("caret",E,L,$,N,C,A);let x;return b($)?x="":b(N)?x=`>=${$}.0.0${g} <${+$+1}.0.0-0`:b(C)?$==="0"?x=`>=${$}.${N}.0${g} <${$}.${+N+1}.0-0`:x=`>=${$}.${N}.0${g} <${+$+1}.0.0-0`:A?(u("replaceCaret pr",A),$==="0"?N==="0"?x=`>=${$}.${N}.${C}-${A} <${$}.${N}.${+C+1}-0`:x=`>=${$}.${N}.${C}-${A} <${$}.${+N+1}.0-0`:x=`>=${$}.${N}.${C}-${A} <${+$+1}.0.0-0`):(u("no pr"),$==="0"?N==="0"?x=`>=${$}.${N}.${C}${g} <${$}.${N}.${+C+1}-0`:x=`>=${$}.${N}.${C}${g} <${$}.${+N+1}.0-0`:x=`>=${$}.${N}.${C} <${+$+1}.0.0-0`),u("caret return",x),x})},le=(E,p)=>(u("replaceXRanges",E,p),E.split(/\s+/).map(y=>Ie(y,p)).join(" ")),Ie=(E,p)=>{E=E.trim();const y=p.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return E.replace(y,(g,L,$,N,C,A)=>{u("xRange",E,g,L,$,N,C,A);const x=b($),G=x||b(N),D=G||b(C),ee=D;return L==="="&&ee&&(L=""),A=p.includePrerelease?"-0":"",x?L===">"||L==="<"?g="<0.0.0-0":g="*":L&&ee?(G&&(N=0),C=0,L===">"?(L=">=",G?($=+$+1,N=0,C=0):(N=+N+1,C=0)):L==="<="&&(L="<",G?$=+$+1:N=+N+1),L==="<"&&(A="-0"),g=`${L+$}.${N}.${C}${A}`):G?g=`>=${$}.0.0${A} <${+$+1}.0.0-0`:D&&(g=`>=${$}.${N}.0${A} <${$}.${+N+1}.0-0`),u("xRange return",g),g})},ye=(E,p)=>(u("replaceStars",E,p),E.trim().replace(l[c.STAR],"")),Le=(E,p)=>(u("replaceGTE0",E,p),E.trim().replace(l[p.includePrerelease?c.GTE0PRE:c.GTE0],"")),ce=E=>(p,y,g,L,$,N,C,A,x,G,D,ee)=>(b(g)?y="":b(L)?y=`>=${g}.0.0${E?"-0":""}`:b($)?y=`>=${g}.${L}.0${E?"-0":""}`:N?y=`>=${y}`:y=`>=${y}${E?"-0":""}`,b(x)?A="":b(G)?A=`<${+x+1}.0.0-0`:b(D)?A=`<${x}.${+G+1}.0-0`:ee?A=`<=${x}.${G}.${D}-${ee}`:E?A=`<${x}.${G}.${+D+1}-0`:A=`<=${A}`,`${y} ${A}`.trim()),J=(E,p,y)=>{for(let g=0;g<E.length;g++)if(!E[g].test(p))return!1;if(p.prerelease.length&&!y.includePrerelease){for(let g=0;g<E.length;g++)if(u(E[g].semver),E[g].semver!==f.ANY&&E[g].semver.prerelease.length>0){const L=E[g].semver;if(L.major===p.major&&L.minor===p.minor&&L.patch===p.patch)return!0}return!1}return!0};return Oe}var Ce,pt;function ve(){if(pt)return Ce;pt=1;const i=Symbol("SemVer ANY");class e{static get ANY(){return i}constructor(m,v){if(v=t(v),m instanceof e){if(m.loose===!!v.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),u("comparator",m,v),this.options=v,this.loose=!!v.loose,this.parse(m),this.semver===i?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(m){const v=this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR],O=m.match(v);if(!O)throw new TypeError(`Invalid comparator: ${m}`);this.operator=O[1]!==void 0?O[1]:"",this.operator==="="&&(this.operator=""),O[2]?this.semver=new w(O[2],this.options.loose):this.semver=i}toString(){return this.value}test(m){if(u("Comparator.test",m,this.options.loose),this.semver===i||m===i)return!0;if(typeof m=="string")try{m=new w(m,this.options)}catch{return!1}return f(m,this.operator,this.semver,this.options)}intersects(m,v){if(!(m instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(m.value,v).test(this.value):m.operator===""?m.value===""?!0:new l(this.value,v).test(m.semver):(v=t(v),v.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!v.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||f(this.semver,"<",m.semver,v)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||f(this.semver,">",m.semver,v)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}Ce=e;const t=De,{safeRe:s,t:o}=oe,f=xt,u=we,w=U,l=K();return Ce}const jn=K(),Gn=(i,e,t)=>{try{e=new jn(e,t)}catch{return!1}return e.test(i)};var $e=Gn;const kn=K(),Wn=(i,e)=>new kn(i,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));var Mn=Wn;const Un=U,Vn=K(),Xn=(i,e,t)=>{let s=null,o=null,f=null;try{f=new Vn(e,t)}catch{return null}return i.forEach(u=>{f.test(u)&&(!s||o.compare(u)===-1)&&(s=u,o=new Un(s,t))}),s};var Hn=Xn;const Bn=U,qn=K(),zn=(i,e,t)=>{let s=null,o=null,f=null;try{f=new qn(e,t)}catch{return null}return i.forEach(u=>{f.test(u)&&(!s||o.compare(u)===1)&&(s=u,o=new Bn(s,t))}),s};var Yn=zn;const _e=U,Kn=K(),mt=ge,Zn=(i,e)=>{i=new Kn(i,e);let t=new _e("0.0.0");if(i.test(t)||(t=new _e("0.0.0-0"),i.test(t)))return t;t=null;for(let s=0;s<i.set.length;++s){const o=i.set[s];let f=null;o.forEach(u=>{const w=new _e(u.semver.version);switch(u.operator){case">":w.prerelease.length===0?w.patch++:w.prerelease.push(0),w.raw=w.format();case"":case">=":(!f||mt(w,f))&&(f=w);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${u.operator}`)}}),f&&(!t||mt(t,f))&&(t=f)}return t&&i.test(t)?t:null};var Jn=Zn;const Qn=K(),es=(i,e)=>{try{return new Qn(i,e).range||"*"}catch{return null}};var ts=es;const rs=U,bt=ve(),{ANY:ns}=bt,ss=K(),is=$e,Et=ge,wt=je,os=ke,as=Ge,ls=(i,e,t,s)=>{i=new rs(i,s),e=new ss(e,s);let o,f,u,w,l;switch(t){case">":o=Et,f=os,u=wt,w=">",l=">=";break;case"<":o=wt,f=as,u=Et,w="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(is(i,e,s))return!1;for(let c=0;c<e.set.length;++c){const m=e.set[c];let v=null,O=null;if(m.forEach(I=>{I.semver===ns&&(I=new bt(">=0.0.0")),v=v||I,O=O||I,o(I.semver,v.semver,s)?v=I:u(I.semver,O.semver,s)&&(O=I)}),v.operator===w||v.operator===l||(!O.operator||O.operator===w)&&f(i,O.semver))return!1;if(O.operator===l&&u(i,O.semver))return!1}return!0};var We=ls;const cs=We,hs=(i,e,t)=>cs(i,e,">",t);var fs=hs;const us=We,ds=(i,e,t)=>us(i,e,"<",t);var ps=ds;const gt=K(),ms=(i,e,t)=>(i=new gt(i,t),e=new gt(e,t),i.intersects(e,t));var Es=ms;const ws=$e,gs=Y;var vs=(i,e,t)=>{const s=[];let o=null,f=null;const u=i.sort((m,v)=>gs(m,v,t));for(const m of u)ws(m,e,t)?(f=m,o||(o=m)):(f&&s.push([o,f]),f=null,o=null);o&&s.push([o,null]);const w=[];for(const[m,v]of s)m===v?w.push(m):!v&&m===u[0]?w.push("*"):v?m===u[0]?w.push(`<=${v}`):w.push(`${m} - ${v}`):w.push(`>=${m}`);const l=w.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const vt=K(),Me=ve(),{ANY:Pe}=Me,ie=$e,Ue=Y,$s=(i,e,t={})=>{if(i===e)return!0;i=new vt(i,t),e=new vt(e,t);let s=!1;e:for(const o of i.set){for(const f of e.set){const u=Is(o,f,t);if(s=s||u!==null,u)continue e}if(s)return!1}return!0},Rs=[new Me(">=0.0.0-0")],$t=[new Me(">=0.0.0")],Is=(i,e,t)=>{if(i===e)return!0;if(i.length===1&&i[0].semver===Pe){if(e.length===1&&e[0].semver===Pe)return!0;t.includePrerelease?i=Rs:i=$t}if(e.length===1&&e[0].semver===Pe){if(t.includePrerelease)return!0;e=$t}const s=new Set;let o,f;for(const I of i)I.operator===">"||I.operator===">="?o=Rt(o,I,t):I.operator==="<"||I.operator==="<="?f=It(f,I,t):s.add(I.semver);if(s.size>1)return null;let u;if(o&&f){if(u=Ue(o.semver,f.semver,t),u>0)return null;if(u===0&&(o.operator!==">="||f.operator!=="<="))return null}for(const I of s){if(o&&!ie(I,String(o),t)||f&&!ie(I,String(f),t))return null;for(const T of e)if(!ie(I,String(T),t))return!1;return!0}let w,l,c,m,v=f&&!t.includePrerelease&&f.semver.prerelease.length?f.semver:!1,O=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1;v&&v.prerelease.length===1&&f.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const I of e){if(m=m||I.operator===">"||I.operator===">=",c=c||I.operator==="<"||I.operator==="<=",o){if(O&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===O.major&&I.semver.minor===O.minor&&I.semver.patch===O.patch&&(O=!1),I.operator===">"||I.operator===">="){if(w=Rt(o,I,t),w===I&&w!==o)return!1}else if(o.operator===">="&&!ie(o.semver,String(I),t))return!1}if(f){if(v&&I.semver.prerelease&&I.semver.prerelease.length&&I.semver.major===v.major&&I.semver.minor===v.minor&&I.semver.patch===v.patch&&(v=!1),I.operator==="<"||I.operator==="<="){if(l=It(f,I,t),l===I&&l!==f)return!1}else if(f.operator==="<="&&!ie(f.semver,String(I),t))return!1}if(!I.operator&&(f||o)&&u!==0)return!1}return!(o&&c&&!f&&u!==0||f&&m&&!o&&u!==0||O||v)},Rt=(i,e,t)=>{if(!i)return e;const s=Ue(i.semver,e.semver,t);return s>0?i:s<0||e.operator===">"&&i.operator===">="?e:i},It=(i,e,t)=>{if(!i)return e;const s=Ue(i.semver,e.semver,t);return s<0?i:s>0||e.operator==="<"&&i.operator==="<="?e:i};var ys=$s;const xe=oe,yt=Ee,Ls=U,Lt=Ct,Ts=se,Ss=_r,Ns=br,As=Fr,Os=Gr,Cs=Mr,_s=Xr,Ps=qr,xs=Kr,bs=Y,Ds=en,Fs=nn,js=Fe,Gs=ln,ks=fn,Ws=ge,Ms=je,Us=_t,Vs=Pt,Xs=Ge,Hs=ke,Bs=xt,qs=bn,zs=ve(),Ys=K(),Ks=$e,Zs=Mn,Js=Hn,Qs=Yn,ei=Jn,ti=ts,ri=We,ni=fs,si=ps,ii=Es,oi=vs,ai=ys;var li={parse:Ts,valid:Ss,clean:Ns,inc:As,diff:Os,major:Cs,minor:_s,patch:Ps,prerelease:xs,compare:bs,rcompare:Ds,compareLoose:Fs,compareBuild:js,sort:Gs,rsort:ks,gt:Ws,lt:Ms,eq:Us,neq:Vs,gte:Xs,lte:Hs,cmp:Bs,coerce:qs,Comparator:zs,Range:Ys,satisfies:Ks,toComparators:Zs,maxSatisfying:Js,minSatisfying:Qs,minVersion:ei,validRange:ti,outside:ri,gtr:ni,ltr:si,intersects:ii,simplifyRange:oi,subset:ai,SemVer:Ls,re:xe.re,src:xe.src,tokens:xe.t,SEMVER_SPEC_VERSION:yt.SEMVER_SPEC_VERSION,RELEASE_TYPES:yt.RELEASE_TYPES,compareIdentifiers:Lt.compareIdentifiers,rcompareIdentifiers:Lt.rcompareIdentifiers};const ci=St(li);function hi(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:s,onRegistered:o,onRegisteredSW:f,onRegisterError:u}=i;let w,l;const c=async(v=!0)=>{await l};async function m(){if("serviceWorker"in navigator){const{Workbox:v}=await Yt(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[]);w=new v("/smeditor/sw.js",{scope:"/smeditor/",type:"classic"}),w.addEventListener("activated",O=>{(O.isUpdate||O.isExternal)&&window.location.reload()}),w.addEventListener("installed",O=>{O.isUpdate||s?.()}),w.register({immediate:e}).then(O=>{f?f("/smeditor/sw.js",O):o?.(O)}).catch(O=>{u?.(O)})}}return l=m(),c}var Dt={exports:{}};(function(i){(function(){function e(r,n,h){return r.call.apply(r.bind,arguments)}function t(r,n,h){if(!r)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,a),r.apply(n,d)}}return function(){return r.apply(n,arguments)}}function s(r,n,h){return s=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?e:t,s.apply(null,arguments)}var o=Date.now||function(){return+new Date};function f(r,n){this.a=r,this.o=n||r,this.c=this.o.document}var u=!!window.FontFace;function w(r,n,h,a){if(n=r.c.createElement(n),h)for(var d in h)h.hasOwnProperty(d)&&(d=="style"?n.style.cssText=h[d]:n.setAttribute(d,h[d]));return a&&n.appendChild(r.c.createTextNode(a)),n}function l(r,n,h){r=r.c.getElementsByTagName(n)[0],r||(r=document.documentElement),r.insertBefore(h,r.lastChild)}function c(r){r.parentNode&&r.parentNode.removeChild(r)}function m(r,n,h){n=n||[],h=h||[];for(var a=r.className.split(/\s+/),d=0;d<n.length;d+=1){for(var R=!1,S=0;S<a.length;S+=1)if(n[d]===a[S]){R=!0;break}R||a.push(n[d])}for(n=[],d=0;d<a.length;d+=1){for(R=!1,S=0;S<h.length;S+=1)if(a[d]===h[S]){R=!0;break}R||n.push(a[d])}r.className=n.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function v(r,n){for(var h=r.className.split(/\s+/),a=0,d=h.length;a<d;a++)if(h[a]==n)return!0;return!1}function O(r){return r.o.location.hostname||r.a.location.hostname}function I(r,n,h){function a(){_&&d&&R&&(_(S),_=null)}n=w(r,"link",{rel:"stylesheet",href:n,media:"all"});var d=!1,R=!0,S=null,_=h||null;u?(n.onload=function(){d=!0,a()},n.onerror=function(){d=!0,S=Error("Stylesheet failed to load"),a()}):setTimeout(function(){d=!0,a()},0),l(r,"head",n)}function T(r,n,h,a){var d=r.c.getElementsByTagName("head")[0];if(d){var R=w(r,"script",{src:n}),S=!1;return R.onload=R.onreadystatechange=function(){S||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(S=!0,h&&h(null),R.onload=R.onreadystatechange=null,R.parentNode.tagName=="HEAD"&&d.removeChild(R))},d.appendChild(R),setTimeout(function(){S||(S=!0,h&&h(Error("Script load timeout")))},a||5e3),R}return null}function B(){this.a=0,this.c=null}function V(r){return r.a++,function(){r.a--,te(r)}}function q(r,n){r.c=n,te(r)}function te(r){r.a==0&&r.c&&(r.c(),r.c=null)}function b(r){this.a=r||"-"}b.prototype.c=function(r){for(var n=[],h=0;h<arguments.length;h++)n.push(arguments[h].replace(/[\W_]+/g,"").toLowerCase());return n.join(this.a)};function H(r,n){this.c=r,this.f=4,this.a="n";var h=(n||"n4").match(/^([nio])([1-9])$/i);h&&(this.a=h[1],this.f=parseInt(h[2],10))}function Re(r){return le(r)+" "+(r.f+"00")+" 300px "+ae(r.c)}function ae(r){var n=[];r=r.split(/,\s*/);for(var h=0;h<r.length;h++){var a=r[h].replace(/['"]/g,"");a.indexOf(" ")!=-1||/^\d/.test(a)?n.push("'"+a+"'"):n.push(a)}return n.join(",")}function X(r){return r.a+r.f}function le(r){var n="normal";return r.a==="o"?n="oblique":r.a==="i"&&(n="italic"),n}function Ie(r){var n=4,h="n",a=null;return r&&((a=r.match(/(normal|oblique|italic)/i))&&a[1]&&(h=a[1].substr(0,1).toLowerCase()),(a=r.match(/([1-9]00|normal|bold)/i))&&a[1]&&(/bold/i.test(a[1])?n=7:/[1-9]00/.test(a[1])&&(n=parseInt(a[1].substr(0,1),10)))),h+n}function ye(r,n){this.c=r,this.f=r.o.document.documentElement,this.h=n,this.a=new b("-"),this.j=n.events!==!1,this.g=n.classes!==!1}function Le(r){r.g&&m(r.f,[r.a.c("wf","loading")]),J(r,"loading")}function ce(r){if(r.g){var n=v(r.f,r.a.c("wf","active")),h=[],a=[r.a.c("wf","loading")];n||h.push(r.a.c("wf","inactive")),m(r.f,h,a)}J(r,"inactive")}function J(r,n,h){r.j&&r.h[n]&&(h?r.h[n](h.c,X(h)):r.h[n]())}function E(){this.c={}}function p(r,n,h){var a=[],d;for(d in n)if(n.hasOwnProperty(d)){var R=r.c[d];R&&a.push(R(n[d],h))}return a}function y(r,n){this.c=r,this.f=n,this.a=w(this.c,"span",{"aria-hidden":"true"},this.f)}function g(r){l(r.c,"body",r.a)}function L(r){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+ae(r.c)+";"+("font-style:"+le(r)+";font-weight:"+(r.f+"00")+";")}function $(r,n,h,a,d,R){this.g=r,this.j=n,this.a=a,this.c=h,this.f=d||3e3,this.h=R||void 0}$.prototype.start=function(){var r=this.c.o.document,n=this,h=o(),a=new Promise(function(S,_){function P(){o()-h>=n.f?_():r.fonts.load(Re(n.a),n.h).then(function(F){1<=F.length?S():setTimeout(P,25)},function(){_()})}P()}),d=null,R=new Promise(function(S,_){d=setTimeout(_,n.f)});Promise.race([R,a]).then(function(){d&&(clearTimeout(d),d=null),n.g(n.a)},function(){n.j(n.a)})};function N(r,n,h,a,d,R,S){this.v=r,this.B=n,this.c=h,this.a=a,this.s=S||"BESbswy",this.f={},this.w=d||3e3,this.u=R||null,this.m=this.j=this.h=this.g=null,this.g=new y(this.c,this.s),this.h=new y(this.c,this.s),this.j=new y(this.c,this.s),this.m=new y(this.c,this.s),r=new H(this.a.c+",serif",X(this.a)),r=L(r),this.g.a.style.cssText=r,r=new H(this.a.c+",sans-serif",X(this.a)),r=L(r),this.h.a.style.cssText=r,r=new H("serif",X(this.a)),r=L(r),this.j.a.style.cssText=r,r=new H("sans-serif",X(this.a)),r=L(r),this.m.a.style.cssText=r,g(this.g),g(this.h),g(this.j),g(this.m)}var C={D:"serif",C:"sans-serif"},A=null;function x(){if(A===null){var r=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);A=!!r&&(536>parseInt(r[1],10)||parseInt(r[1],10)===536&&11>=parseInt(r[2],10))}return A}N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=o(),D(this)};function G(r,n,h){for(var a in C)if(C.hasOwnProperty(a)&&n===r.f[C[a]]&&h===r.f[C[a]])return!0;return!1}function D(r){var n=r.g.a.offsetWidth,h=r.h.a.offsetWidth,a;(a=n===r.f.serif&&h===r.f["sans-serif"])||(a=x()&&G(r,n,h)),a?o()-r.A>=r.w?x()&&G(r,n,h)&&(r.u===null||r.u.hasOwnProperty(r.a.c))?Te(r,r.v):Te(r,r.B):ee(r):Te(r,r.v)}function ee(r){setTimeout(s(function(){D(this)},r),50)}function Te(r,n){setTimeout(s(function(){c(this.g.a),c(this.h.a),c(this.j.a),c(this.m.a),n(this.a)},r),0)}function Se(r,n,h){this.c=r,this.a=n,this.f=0,this.m=this.j=!1,this.s=h}var he=null;Se.prototype.g=function(r){var n=this.a;n.g&&m(n.f,[n.a.c("wf",r.c,X(r).toString(),"active")],[n.a.c("wf",r.c,X(r).toString(),"loading"),n.a.c("wf",r.c,X(r).toString(),"inactive")]),J(n,"fontactive",r),this.m=!0,Ve(this)},Se.prototype.h=function(r){var n=this.a;if(n.g){var h=v(n.f,n.a.c("wf",r.c,X(r).toString(),"active")),a=[],d=[n.a.c("wf",r.c,X(r).toString(),"loading")];h||a.push(n.a.c("wf",r.c,X(r).toString(),"inactive")),m(n.f,a,d)}J(n,"fontinactive",r),Ve(this)};function Ve(r){--r.f==0&&r.j&&(r.m?(r=r.a,r.g&&m(r.f,[r.a.c("wf","active")],[r.a.c("wf","loading"),r.a.c("wf","inactive")]),J(r,"active")):ce(r.a))}function Xe(r){this.j=r,this.a=new E,this.h=0,this.f=this.g=!0}Xe.prototype.load=function(r){this.c=new f(this.j,r.context||this.j),this.g=r.events!==!1,this.f=r.classes!==!1,jt(this,new ye(this.c,r),r)};function Ft(r,n,h,a,d){var R=--r.h==0;(r.f||r.g)&&setTimeout(function(){var S=d||null,_=a||null||{};if(h.length===0&&R)ce(n.a);else{n.f+=h.length,R&&(n.j=R);var P,F=[];for(P=0;P<h.length;P++){var j=h[P],M=_[j.c],z=n.a,re=j;if(z.g&&m(z.f,[z.a.c("wf",re.c,X(re).toString(),"loading")]),J(z,"fontloading",re),z=null,he===null)if(window.FontFace){var re=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),zt=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);he=re?42<parseInt(re[1],10):!zt}else he=!1;he?z=new $(s(n.g,n),s(n.h,n),n.c,j,n.s,M):z=new N(s(n.g,n),s(n.h,n),n.c,j,n.s,S,M),F.push(z)}for(P=0;P<F.length;P++)F[P].start()}},0)}function jt(r,n,h){var d=[],a=h.timeout;Le(n);var d=p(r.a,h,r.c),R=new Se(r.c,n,a);for(r.h=d.length,n=0,h=d.length;n<h;n++)d[n].load(function(S,_,P){Ft(r,R,S,_,P)})}function He(r,n){this.c=r,this.a=n}He.prototype.load=function(r){function n(){if(R["__mti_fntLst"+a]){var S=R["__mti_fntLst"+a](),_=[],P;if(S)for(var F=0;F<S.length;F++){var j=S[F].fontfamily;S[F].fontStyle!=null&&S[F].fontWeight!=null?(P=S[F].fontStyle+S[F].fontWeight,_.push(new H(j,P))):_.push(new H(j))}r(_)}else setTimeout(function(){n()},50)}var h=this,a=h.a.projectId,d=h.a.version;if(a){var R=h.c.o;T(this.c,(h.a.api||"https://fast.fonts.net/jsapi")+"/"+a+".js"+(d?"?v="+d:""),function(S){S?r([]):(R["__MonotypeConfiguration__"+a]=function(){return h.a},n())}).id="__MonotypeAPIScript__"+a}else r([])};function Be(r,n){this.c=r,this.a=n}Be.prototype.load=function(r){var n,h,a=this.a.urls||[],d=this.a.families||[],R=this.a.testStrings||{},S=new B;for(n=0,h=a.length;n<h;n++)I(this.c,a[n],V(S));var _=[];for(n=0,h=d.length;n<h;n++)if(a=d[n].split(":"),a[1])for(var P=a[1].split(","),F=0;F<P.length;F+=1)_.push(new H(a[0],P[F]));else _.push(new H(a[0]));q(S,function(){r(_,R)})};function Gt(r,n){r?this.c=r:this.c=kt,this.a=[],this.f=[],this.g=n||""}var kt="https://fonts.googleapis.com/css";function Wt(r,n){for(var h=n.length,a=0;a<h;a++){var d=n[a].split(":");d.length==3&&r.f.push(d.pop());var R="";d.length==2&&d[1]!=""&&(R=":"),r.a.push(d.join(R))}}function Mt(r){if(r.a.length==0)throw Error("No fonts to load!");if(r.c.indexOf("kit=")!=-1)return r.c;for(var n=r.a.length,h=[],a=0;a<n;a++)h.push(r.a[a].replace(/ /g,"+"));return n=r.c+"?family="+h.join("%7C"),0<r.f.length&&(n+="&subset="+r.f.join(",")),0<r.g.length&&(n+="&text="+encodeURIComponent(r.g)),n}function Ut(r){this.f=r,this.a=[],this.c={}}var qe={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Vt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Xt={i:"i",italic:"i",n:"n",normal:"n"},Ht=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Bt(r){for(var n=r.f.length,h=0;h<n;h++){var a=r.f[h].split(":"),d=a[0].replace(/\+/g," "),R=["n4"];if(2<=a.length){var S,_=a[1];if(S=[],_)for(var _=_.split(","),P=_.length,F=0;F<P;F++){var j;if(j=_[F],j.match(/^[\w-]+$/)){var M=Ht.exec(j.toLowerCase());if(M==null)j="";else{if(j=M[2],j=j==null||j==""?"n":Xt[j],M=M[1],M==null||M=="")M="4";else var z=Vt[M],M=z||(isNaN(M)?"4":M.substr(0,1));j=[j,M].join("")}}else j="";j&&S.push(j)}0<S.length&&(R=S),a.length==3&&(a=a[2],S=[],a=a?a.split(","):S,0<a.length&&(a=qe[a[0]])&&(r.c[d]=a))}for(r.c[d]||(a=qe[d])&&(r.c[d]=a),a=0;a<R.length;a+=1)r.a.push(new H(d,R[a]))}}function ze(r,n){this.c=r,this.a=n}var qt={Arimo:!0,Cousine:!0,Tinos:!0};ze.prototype.load=function(r){var n=new B,h=this.c,a=new Gt(this.a.api,this.a.text),d=this.a.families;Wt(a,d);var R=new Ut(d);Bt(R),I(h,Mt(a),V(n)),q(n,function(){r(R.a,R.c,qt)})};function Ye(r,n){this.c=r,this.a=n}Ye.prototype.load=function(r){var n=this.a.id,h=this.c.o;n?T(this.c,(this.a.api||"https://use.typekit.net")+"/"+n+".js",function(a){if(a)r([]);else if(h.Typekit&&h.Typekit.config&&h.Typekit.config.fn){a=h.Typekit.config.fn;for(var d=[],R=0;R<a.length;R+=2)for(var S=a[R],_=a[R+1],P=0;P<_.length;P++)d.push(new H(S,_[P]));try{h.Typekit.load({events:!1,classes:!1,async:!0})}catch{}r(d)}},2e3):r([])};function Ke(r,n){this.c=r,this.f=n,this.a=[]}Ke.prototype.load=function(r){var n=this.f.id,h=this.c.o,a=this;n?(h.__webfontfontdeckmodule__||(h.__webfontfontdeckmodule__={}),h.__webfontfontdeckmodule__[n]=function(d,R){for(var S=0,_=R.fonts.length;S<_;++S){var P=R.fonts[S];a.a.push(new H(P.name,Ie("font-weight:"+P.weight+";font-style:"+P.style)))}r(a.a)},T(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+O(this.c)+"/"+n+".js",function(d){d&&r([])})):r([])};var Q=new Xe(window);Q.a.c.custom=function(r,n){return new Be(n,r)},Q.a.c.fontdeck=function(r,n){return new Ke(n,r)},Q.a.c.monotype=function(r,n){return new He(n,r)},Q.a.c.typekit=function(r,n){return new Ye(n,r)},Q.a.c.google=function(r,n){return new ze(n,r)};var Ze={load:s(Q.load,Q)};i.exports?i.exports=Ze:(window.WebFont=Ze,window.WebFontConfig&&Q.load(window.WebFontConfig))})()})(Dt);var fi=Dt.exports;const ui=St(fi);class di{app;view;constructor(e,t){if(this.app=e,this.view=t,!W.menuBar)return;const s=Object.values(Kt).map(o=>this.createElement(o));t.replaceChildren(...s)}createElement(e){if(e.type=="separator"){const t=document.createElement("div");return t.classList.add("separator"),t}if(e.type=="selection"||e.type=="checkbox"||e.type=="dropdown"){const t=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");let f;if(e.type=="selection"||e.type=="checkbox"){const u=Zt[e.id]??{label:e.id,combos:[],callback:()=>{}};f=document.createElement("div"),f.innerText=Nt.getKeybindString(e.id),f.classList.add("keybind","unselectable"),o.innerText=u.label;let w=u.disabled;typeof w=="function"&&(w=w(this.app)),w&&t.classList.add("disabled"),t.addEventListener("click",()=>{if(w)return;u.callback(this.app),t.closest(".menu-main").querySelector(".menubar-dropdown").replaceChildren()})}else f=Jt.getIcon("CHEVRON",16),f.style.transform="rotate(-90deg)",o.innerText=typeof e.title=="function"?e.title(this.app):e.title;if(s.appendChild(o),s.appendChild(f),t.appendChild(s),t.classList.add("menu-item"),s.classList.add("menu-item-title","menu-hover"),o.classList.add("title","unselectable"),e.type=="dropdown"){const u=document.createElement("div");t.appendChild(u),u.classList.add("menubar-dropdown"),e.options.map(w=>this.createElement(w)).forEach(w=>u.appendChild(w))}if(e.type=="checkbox"){let u=e.checked;typeof u=="function"&&(u=u(this.app)),u&&(o.innerText="✓ "+o.innerText)}return t}if(e.type=="menu"){const t=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div");return t.appendChild(s),s.innerText=e.title,t.appendChild(o),s.classList.add("title","unselectable"),t.classList.add("menu-item","menu-main"),s.classList.add("menu-hover"),o.classList.add("menubar-dropdown","unselectable"),t.onmouseenter=()=>{o.replaceChildren(...e.options.map(f=>this.createElement(f)))},t.onmouseleave=()=>{o.replaceChildren()},t}return document.createElement("div")}}class pi{view;windows=[];app;constructor(e,t){this.app=e,this.view=t}unfocusAll(){for(const e of this.view.querySelectorAll(".focused"))e.classList.remove("focused")}getFocusedWindow(){for(const e of this.windows)if(e.windowElement.classList.contains("focused"))return e;return null}isBlocked(){return!this.windows.every(e=>!e.options.blocking)}openWindow(e){if(e.options.win_id){const t=this.getWindowById(e.options.win_id);if(t){t.focus();return}}e.addToManager(this),this.windows.push(e)}removeWindow(e){this.windows.splice(this.windows.indexOf(e),1)}getWindowById(e){for(const t of this.windows)if(t.options.win_id==e)return t}}class mi{options=k;events=Ne;themes=Ae;renderer;ticker;stage;view;chartManager;windowManager;menubarManager;actionHistory;lastWidth=window.innerWidth;lastHeight=window.innerHeight;constructor(){if(tr.setDefaultProps({duration:[200,100],theme:"sm"}),window.nw){const e=nw.Window.get();nw.App.on("open",t=>{if(!t||t?.length===0){nw.Window.open(window.location.href);return}let s="";for(let o of t)if(o.startsWith("file://")&&(o=o.substring(7)),fe(o)==".ssc"){s=o;break}else s==""&&fe(o)==".sm"&&(s=o);s!=""&&(this.chartManager.loadSM(s),this.windowManager.getWindowById("select_sm_initial")?.closeWindow())}),window.addEventListener("keydown",t=>{t.key=="r"&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.reload()),t.code=="KeyW"&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.close()),process.versions["nw-flavor"]=="sdk"&&t.code=="KeyI"&&t.metaKey&&t.altKey&&(t.preventDefault(),e.showDevTools())}),e.on("enter-fullscreen",()=>{k.app.fullscreen=e.isFullscreen}),e.on("resize",(t,s)=>{e.isFullscreen||(k.app.width=t,k.app.height=s)}),e.on("restore",()=>{k.app.fullscreen=e.isFullscreen}),this.checkAppVersion()}if(this.checkCoreVersion(),k.loadOptions(),rr(),Nt.load(this),window.nw){const e=nw.Window.get();k.app.fullscreen?e.enterFullscreen():e.resizeTo(k.app.width,k.app.height)}if(setInterval(()=>k.saveOptions(),1e4),k.general.smoothAnimations&&document.body.classList.add("animated"),this.registerFonts(),this.view=document.getElementById("pixi"),document.oncontextmenu=e=>{e.preventDefault(),this.chartManager.loadedChart&&e.target==this.view&&Je.open(this,e)},this.view.onmousedown=()=>{Je.close()},this.stage=new nr,this.stage.sortableChildren=!0,this.renderer=new sr({backgroundColor:1579292,antialias:k.performance.antialiasing,width:this.view.clientWidth,height:this.view.clientHeight,resolution:k.performance.resolution,autoDensity:!0,view:this.view,powerPreference:"low-power"}),this.ticker=new ir,this.ticker.maxFPS=0,this.ticker.add(()=>{const e=performance.now();this.renderer.render(this.stage),Qe.instance?.addFrameTimeValue(performance.now()-e),performance.memory?.usedJSHeapSize&&Qe.instance?.addMemoryTimeValue(performance.memory.usedJSHeapSize),mr()},or.LOW),this.ticker.start(),ar.init(this.renderer),this.chartManager=new lr(this),this.menubarManager=new di(this,document.getElementById("menubar")),this.windowManager=new pi(this,document.getElementById("windows")),this.actionHistory=new et(this),this.registerListeners(),!W.hidePoweredByText&&cr()){const e=document.getElementById("embed");e.appendChild(document.createTextNode("Powered by "));const t=document.createElement("a");if(t.href="https://tillvit.github.io/smeditor/",t.innerText="SMEditor",t.target="_blank",e.appendChild(t),W.url!=null){e.appendChild(document.createTextNode(" | Open this chart in a "));const s=document.createElement("a"),o=new URL(location.origin+"/smeditor/app/");s.innerText="new tab",s.target="_blank",o.searchParams.append("url",W.url),W.chartType!==null&&o.searchParams.append("chartType",W.chartType),W.chartIndex!==null&&o.searchParams.append("chartIndex",W.chartIndex+""),s.href=o.toString(),e.appendChild(s)}}tt.initFileSystem().then(()=>{if(W.url){this.chartManager.loadSM(W.url).then(()=>{const e=this.chartManager.loadedSM;if(!e)return;let t;if(W.chartType!=null&&(t=e.charts[W.chartType],t===void 0)){nt.createFormatted(`Couldn't find chart with type ${W.chartType}`,"warn");return}if(t===void 0){const o=Object.keys(e.charts);if(o.length==0||(t=e.charts[o[0]],t.length==0))return}let s;if(W.chartIndex!=null&&(s=t.at(W.chartIndex),s===void 0)){nt.createFormatted(`Couldn't find chart with index ${W.chartIndex}`,"warn");return}s===void 0&&(s=t.at(-1),!s)||this.chartManager.loadChart(s)});return}this.windowManager.openWindow(new hr(this))}),window.onbeforeunload=e=>{if(et.instance.isDirty()&&k.general.warnBeforeExit)return e.preventDefault(),e.returnValue="Are you sure you want to exit?"},window.onunload=()=>{k.saveOptions()},Ae.loadTheme(k.general.theme)}registerFonts(){rt.from("Main",{fontFamily:"Assistant",fontSize:20,fill:"white"},{chars:[["a","z"],["A","Z"],"!@#$%^&*()~{}[]:.-?=,_","0123456789/"," "],resolution:window.devicePixelRatio}),rt.from("Fancy",{fontFamily:"Assistant",fontSize:40,fontWeight:"700",fill:["#dddddd","#ffffff"],fillGradientType:fr.LINEAR_VERTICAL,stroke:11184810,strokeThickness:3},{chars:[["a","z"],["A","Z"],"!@#$%^&*()~{}[]:.-?=,_","0123456789/"," "],resolution:window.devicePixelRatio})}registerListeners(){this.view.addEventListener("mousedown",()=>{this.windowManager.unfocusAll()}),Ne.on("themeChanged",()=>{this.renderer.background.color=new ur(Ae.getCurrentTheme()["editor-bg"]).toNumber()}),window.addEventListener("keydown",function(e){e.code=="Enter"&&e.target instanceof HTMLButtonElement&&e.preventDefault()}),window.addEventListener("dragstart",function(e){e.target instanceof HTMLImageElement&&e.preventDefault()}),setInterval(()=>{const e=window.innerWidth,t=window.innerHeight-document.getElementById("menubar").clientHeight-document.getElementById("playback-options").clientHeight;(this.lastHeight!=t||this.lastWidth!=e)&&(this.lastHeight=t,this.lastWidth=e,this.onResize(e,t),Ne.emit("resize"))},100),window.addEventListener("dragover",e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"}),window.addEventListener("drop",e=>{if(window.nw){e.stopPropagation(),e.preventDefault();let t="";for(const s of e.dataTransfer.files)if(s.path)if(fe(s.path)==".ssc"){t=s.path;break}else t==""&&fe(s.path)==".sm"&&(t=s.path);t!=""&&(this.chartManager.loadSM(t),this.windowManager.getWindowById("select_sm_initial")?.closeWindow())}else tt.handleDropEvent(e).then(t=>{const s=new dr(this,{title:"Select an sm/ssc file...",accepted_file_types:[".sm",".ssc"],disableClose:!0,callback:o=>{this.chartManager.loadSM(o),this.windowManager.getWindowById("select_sm_initial")?.closeWindow()},onload:()=>{s.getAcceptableFile(t??"").then(o=>s.selectPath(o))}});this.windowManager.openWindow(s)})})}onResize(e,t){this.renderer.screen.width=e,this.renderer.screen.height=t,this.view.width=e*this.renderer.resolution,this.view.height=t*this.renderer.resolution,this.view.style.width=`${e}px`,this.view.style.height=`${t}px`}checkAppVersion(){if(!window.nw)return;const e=nw.require("nw.gui"),t={stable:3,beta:2,alpha:1,nightly:0};let s="win";process.platform=="darwin"?s=nw.require("os").arch()=="arm64"?"mac-arm":"mac-x64":process.platform=="linux"&&(s="linux"),fetch("/smeditor/assets/app/versions.json").then(o=>o.json()).then(o=>{o=o.sort((u,w)=>t[u.type]!=t[w.type]?t[w.type]-t[u.type]:w.date-u.date);const f=o[0];ci.lt(e.App.manifest.version,f.version)&&localStorage.getItem("downloadedVersion")!==f.version&&pr.open(f.version,f.downloads[s])})}checkCoreVersion(){hi({onNeedRefresh(){console.log("need refresh")},onOfflineReady(){console.log("offline ready")}})}}document.querySelector("body").innerHTML=`<div id="popups"></div>
          <div id="view-wrapper">
            <div id="menubar"></div>
            <div id="waterfall"><div id="waterfall-container"></div></div>
            <canvas id="pixi"></canvas>
          </div>
          <div id="context-menu"></div>
          <div id="blocker" style="display: none"></div>
          <div id="windows"></div>
          <div id="embed"></div>
        `;ui.load({custom:{families:["Assistant"]},active:Tt,inactive:Tt,classes:!1});function Tt(){const i=document.createElement("canvas");i.getContext("webgl")||i.getContext("experimental-webgl")?(window.app=new mi,window.GameTypeRegistry=Qt,window.NoteskinRegistry=er):document.querySelector("body").innerHTML=`<div class='browser-unsupported'>
      <div class='browser-unsupported-item'>
      <h1>WebGL is not enabled</h1>
      <div>Please visit your browser settings and enable WebGL.</div>
      </div>
    </div>`}
